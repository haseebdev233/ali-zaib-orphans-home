import{j as e,m as s,y as a}from"./ui-0O50zAgT.js";import{e as n,r as i}from"./router-CXrYwj63.js";import{p as l,r as t,s as r,d as c,a as o}from"./firebase-B_itL2p2.js";function d(){const d=n(),[m,h]=i.useState(1),[b,x]=i.useState(500),[u,p]=i.useState(""),[N,j]=i.useState({name:"",email:"",phone:"",message:"",anonymous:!1}),[f,v]=i.useState(!1),[g]=i.useState(`DON-${Date.now().toString().slice(-8)}`),[y,w]=i.useState(null),[k,A]=i.useState("");i.useEffect(()=>{d.state?.step&&h(d.state.step),d.state?.selectedAmount&&x(d.state.selectedAmount)},[d.state]);const I=(e,s)=>{j(a=>({...a,[e]:s}))},P=e=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(e),C=b,D=(e,s)=>{navigator.clipboard.writeText(e).then(()=>{A(s),a.success(`${s} copied to clipboard!`),setTimeout(()=>A(""),2e3)}).catch(e=>{a.error("Failed to copy. Please try again.")})};return e.jsx("section",{className:"py-5",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh"},children:e.jsxs("div",{className:"container py-5",children:[e.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-5",children:[e.jsx("h1",{className:"display-4 fw-bold text-white mb-3",children:"Support Our Children"}),e.jsx("p",{className:"lead text-white-75 mb-0",children:"Your donation creates lasting impact on young lives"})]}),e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-lg-8",children:[e.jsx("div",{className:"mb-5",children:e.jsxs("div",{className:"d-flex justify-content-between position-relative",children:[e.jsx("div",{className:"position-absolute top-50 start-0 end-0 h-2 bg-white bg-opacity-25",style:{zIndex:1}}),[1,2,3,4].map(s=>e.jsxs("div",{className:"position-relative",style:{zIndex:2},children:[e.jsx("button",{className:"btn rounded-circle "+(m>=s?"btn-primary":"btn-light"),style:{width:"50px",height:"50px"},onClick:()=>h(s),disabled:m<s,children:m>s?e.jsx("i",{className:"bi bi-check-lg"}):s}),e.jsxs("div",{className:"position-absolute start-50 translate-middle-x mt-2 small text-white text-nowrap",children:[1===s&&"Amount",2===s&&"Details",3===s&&"Transfer",4===s&&"Receipt"]})]},s))]})}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card border-0 shadow-lg rounded-4 overflow-hidden",children:[1===m&&e.jsxs("div",{className:"card-body p-5",children:[e.jsx("h3",{className:"fw-bold mb-4 text-primary",children:"Select Donation Amount"}),e.jsx("div",{className:"row g-3 mb-4",children:[100,250,500,1e3,2500,5e3].map(a=>e.jsx("div",{className:"col-6 col-md-4",children:e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn w-100 py-4 rounded-3 fw-bold "+(b===a?"btn-primary":"btn-outline-primary"),onClick:()=>(e=>{x(e),p("")})(a),children:P(a)})},a))}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label fw-bold",children:"Or Enter Custom Amount"}),e.jsxs("div",{className:"input-group input-group-lg",children:[e.jsx("span",{className:"input-group-text bg-primary text-white border-primary",children:e.jsx("i",{className:"bi bi-currency-rupee"})}),e.jsx("input",{type:"text",className:"form-control border-primary",placeholder:"Enter amount in PKR",value:u,onChange:e=>{const s=e.target.value.replace(/[^0-9]/g,"");p(s),s&&x(parseInt(s))}}),e.jsx("span",{className:"input-group-text bg-light border-primary",children:"PKR"})]})]}),e.jsxs("div",{className:"p-4 rounded-3 mb-4",style:{backgroundColor:"#f8f9fa"},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Your Impact"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{className:"bi bi-heart-pulse fs-1 text-danger"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-1",children:b>=1e3?"Major Impact":"Significant Help"}),e.jsx("p",{className:"mb-0 text-muted",children:b>=1e3?"Your donation can support multiple children for a month":"Your donation provides essential supplies and care"})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"fw-bold text-primary",children:P(C)}),e.jsx("small",{className:"text-muted",children:"Total Donation"})]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary btn-lg px-5",onClick:()=>h(2),disabled:b<100,children:["Continue ",e.jsx("i",{className:"bi bi-arrow-right ms-2"})]})]})]}),2===m&&e.jsxs("div",{className:"card-body p-5",children:[e.jsx("h3",{className:"fw-bold mb-4 text-primary",children:"Your Information"}),e.jsxs("div",{className:"row g-4",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label fw-bold",children:"Full Name *"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx("i",{className:"bi bi-person"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"John Doe",value:N.name,onChange:e=>I("name",e.target.value),required:!0})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label fw-bold",children:"Email Address *"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx("i",{className:"bi bi-envelope"})}),e.jsx("input",{type:"email",className:"form-control",placeholder:"john@example.com",value:N.email,onChange:e=>I("email",e.target.value),required:!0})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label fw-bold",children:"Phone Number *"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light",children:e.jsx("i",{className:"bi bi-telephone"})}),e.jsx("input",{type:"tel",className:"form-control",placeholder:"+92 300 1234567",value:N.phone,onChange:e=>I("phone",e.target.value),required:!0})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label fw-bold",children:"Message (Optional)"}),e.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Add a personal message or dedication...",value:N.message,onChange:e=>I("message",e.target.value)})]}),e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"receipt",defaultChecked:!0}),e.jsx("label",{className:"form-check-label",htmlFor:"receipt",children:"Send me a tax-deductible receipt via email"})]}),e.jsxs("div",{className:"form-check mt-2",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"updates",defaultChecked:!0}),e.jsx("label",{className:"form-check-label",htmlFor:"updates",children:"Receive updates about our children's progress"})]}),e.jsxs("div",{className:"form-check mt-2",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"anonymous",checked:N.anonymous,onChange:e=>I("anonymous",e.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"anonymous",children:"Make this donation anonymous"})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>h(1),children:[e.jsx("i",{className:"bi bi-arrow-left me-2"})," Back"]}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline-secondary",onClick:()=>{I("anonymous",!0),h(3)},children:["Skip ",e.jsx("i",{className:"bi bi-arrow-right ms-2"})]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary btn-lg px-5",onClick:()=>h(3),disabled:!(N.anonymous||N.name&&N.email&&N.phone),children:["Continue to Bank Details ",e.jsx("i",{className:"bi bi-arrow-right ms-2"})]})]})]})]}),3===m&&e.jsxs("div",{className:"card-body p-5",children:[e.jsx("h3",{className:"fw-bold mb-4 text-primary",children:"Bank Transfer Details"}),e.jsxs("div",{className:"p-4 rounded-3 mb-4",style:{backgroundColor:"#f8f9fa"},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Donation Summary"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Amount"}),e.jsx("div",{className:"fw-bold",children:P(b)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Donor"}),e.jsx("div",{className:"fw-bold",children:N.anonymous?"Anonymous Donor":N.name})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Contact"}),e.jsx("div",{className:"fw-bold",children:N.anonymous?"Anonymous":N.email})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Phone"}),e.jsx("div",{className:"fw-bold",children:N.anonymous?"Anonymous":N.phone})]})]})]}),e.jsx("div",{className:"border-top pt-3 mt-3",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"fw-bold",children:"Total Amount"}),e.jsx("span",{className:"fw-bold fs-4 text-primary",children:P(C)})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-bank me-2"}),"Transfer to Our Accounts"]}),e.jsxs("div",{className:"mb-4 p-4 rounded-3 border bg-white",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"me-3 p-2 rounded bg-warning text-white",children:e.jsx("i",{className:"bi bi-phone fs-4"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-0",children:"JazzCash Wallet"}),e.jsx("small",{className:"text-muted",children:"Mobile Wallet Transfer"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-muted",children:"JazzCash Number:"}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-sm btn-outline-warning",onClick:()=>D("03219920015","JazzCash Number"),children:[e.jsx("i",{className:`bi ${"JazzCash Number"===k?"bi-check":"bi-copy"} me-1`}),"Copy"]})]}),e.jsx("h5",{className:"fw-bold mb-0",children:"0321 9920015"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Account Title:"}),e.jsx("div",{className:"fw-bold",children:"Ali Zaib Orphan Home"})]})]}),e.jsxs("div",{className:"mb-4 p-4 rounded-3 border bg-white",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"me-3 p-2 rounded bg-primary text-white",children:e.jsx("i",{className:"bi bi-bank fs-4"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-0",children:"BankIslami"}),e.jsx("small",{className:"text-muted",children:"Bank Account Transfer"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-muted",children:"Account Number:"}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-sm btn-outline-primary",onClick:()=>D("218500047820005","Account Number"),children:[e.jsx("i",{className:`bi ${"Account Number"===k?"bi-check":"bi-copy"} me-1`}),"Copy"]})]}),e.jsx("h5",{className:"fw-bold mb-0",children:"218500047820005"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("small",{className:"text-muted",children:"IBAN Number:"}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-sm btn-outline-primary",onClick:()=>D("PK73BKIP0218500047820005","IBAN Number"),children:[e.jsx("i",{className:`bi ${"IBAN Number"===k?"bi-check":"bi-copy"} me-1`}),"Copy"]})]}),e.jsx("div",{className:"fw-bold",children:"PK73BKIP0218500047820005"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Account Title:"}),e.jsx("div",{className:"fw-bold",children:"Ali Zaib Foundation (Orphan Home)"})]})]}),e.jsx("div",{className:"mb-4 p-4 rounded-3 border bg-light",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Your Reference Number:"}),e.jsxs("h6",{className:"fw-bold mb-0",children:["DON-",N.name?.slice(0,3).toUpperCase()||"DON","-",Date.now().toString().slice(-6)]}),e.jsx("small",{className:"text-muted",children:"Mention this reference when transferring"})]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-sm btn-outline-secondary",onClick:()=>D(`DON-${N.name?.slice(0,3).toUpperCase()||"DON"}-${Date.now().toString().slice(-6)}`,"Reference Number"),children:[e.jsx("i",{className:`bi ${"Reference Number"===k?"bi-check":"bi-copy"} me-1`}),"Copy"]})]})}),e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{className:"fw-bold mb-2",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Instructions:"]}),e.jsxs("ol",{className:"mb-0 ps-3",children:[e.jsxs("li",{className:"mb-2",children:["Transfer ",e.jsx("strong",{children:P(b)})," to any of the above accounts"]}),e.jsx("li",{className:"mb-2",children:"Use the Reference Number in transaction details"}),e.jsx("li",{className:"mb-2",children:"Take screenshot of successful transaction"}),e.jsx("li",{children:'Click "I\'ve Made the Transfer" to get your receipt'})]})]}),e.jsxs("div",{className:"alert alert-light",children:[e.jsx("h6",{className:"fw-bold mb-2",children:"Need Help? Contact Us:"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Phone Numbers:"}),e.jsx("div",{className:"fw-bold",children:"0321-9920015"}),e.jsx("div",{className:"fw-bold",children:"0300-8666468"}),e.jsx("div",{className:"fw-bold",children:"041-8847000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Address:"}),e.jsxs("div",{className:"small",children:["P-68, New Civil Line, Ayesha Road,",e.jsx("br",{}),"behind Sind Bad, Faisalabad"]})]})})]})]})]}),e.jsxs("div",{className:"d-grid gap-3",children:[e.jsx(s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-success btn-lg py-3",onClick:()=>{v(!0);const e=`DON-${N.name?.slice(0,3).toUpperCase()||"DON"}-${Date.now().toString().slice(-6)}`,s={amount:b,donorInfo:N,paymentMethod:"bank_transfer",status:"pending",transactionId:g,reference:e,submittedAt:o(),date:(new Date).toISOString()},n=l(t(c,"donations"));r(n,s).then(()=>{w({...s,id:n.key,date:(new Date).toLocaleDateString("en-PK",{year:"numeric",month:"long",day:"numeric"})}),a.success("Donation record saved successfully!"),v(!1);const i=`Assalam-o-Alaikum! I have made a donation of ${P(b)} to Ali Zaib Orphan Home.\n\nReference: ${e}\nName: ${N.anonymous?"Anonymous":N.name}\nPhone: ${N.phone||"Not provided"}\nEmail: ${N.email||"Not provided"}\n\nPlease find the payment screenshot attached.`,l=`https://wa.me/923219920015?text=${encodeURIComponent(i)}`;window.open(l,"_blank"),h(5)}).catch(e=>{a.error("Failed to save donation. Please try again."),v(!1)})},disabled:f,children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-check-circle me-2"}),"I've Made the Transfer"]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-outline-primary flex-grow-1",onClick:()=>h(2),children:[e.jsx("i",{className:"bi bi-arrow-left me-2"})," Back"]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline-success flex-grow-1",onClick:()=>{const e=`https://wa.me/923219920015?text=${(()=>{const e=`DON-${N.name?.slice(0,3).toUpperCase()||"DON"}-${Date.now().toString().slice(-6)}`,s=`Assalam-o-Alaikum! I want to donate ${P(b)} to Ali Zaib Orphan Home.\n\nReference: ${e}\nName: ${N.anonymous?"Anonymous":N.name}\nPhone: ${N.phone||"Not provided"}\nEmail: ${N.email||"Not provided"}\n\nPlease guide me for the next steps.`;return encodeURIComponent(s)})()}`;window.open(e,"_blank")},children:[e.jsx("i",{className:"bi bi-whatsapp me-2"}),"Need Help?"]})]})]})]}),4===m&&y&&e.jsxs("div",{className:"card-body p-5",children:[e.jsx("h3",{className:"fw-bold mb-4 text-primary",children:"Payment Verification"}),e.jsxs("div",{className:"p-4 rounded-3 mb-4",style:{backgroundColor:"#f8f9fa"},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Donation Summary"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Amount"}),e.jsx("div",{className:"fw-bold",children:P(y.amount)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Reference"}),e.jsx("div",{className:"fw-bold",children:y.reference})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Donor"}),e.jsx("div",{className:"fw-bold",children:y.donorInfo.anonymous?"Anonymous Donor":y.donorInfo.name})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Transaction ID"}),e.jsx("div",{className:"fw-bold",children:y.transactionId})]})]})]})]}),e.jsxs("div",{className:"alert alert-info mb-4",children:[e.jsxs("h6",{className:"fw-bold mb-2",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Payment Verification Required"]}),e.jsx("p",{className:"mb-2",children:"âš ï¸ Before receiving your receipt, you must upload proof of payment:"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:"Upload Screenshot Requirements:"}),e.jsxs("ul",{className:"mb-0 mt-2",children:[e.jsx("li",{children:"âœ… Must clearly show:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Transaction amount (Rs ",y.amount,")"]}),e.jsx("li",{children:"Reference Number used"}),e.jsx("li",{children:"Date and time of transaction"}),e.jsx("li",{children:"Successful transaction status"}),e.jsx("li",{children:"Beneficiary account details"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:"âŒ Will be rejected if:"}),e.jsxs("ul",{className:"mb-0 mt-2",children:[e.jsx("li",{children:"Screenshot is blurry or incomplete"}),e.jsx("li",{children:"Amount or reference doesn't match"}),e.jsx("li",{children:"Transaction shows as failed/pending"}),e.jsx("li",{children:"Sensitive information is edited/blocked"})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label fw-bold",children:"Upload Payment Proof:"}),e.jsx("div",{className:"border-2 border-dashed border-primary rounded-3 p-4 text-center",style:{minHeight:"200px"},children:uploadedFile?e.jsxs("div",{children:[filePreview&&e.jsx("img",{src:filePreview,alt:"Payment proof",className:"img-fluid mb-3",style:{maxHeight:"150px"}}),e.jsxs("div",{className:"mb-3",children:[e.jsx("i",{className:"bi bi-file-earmark-check text-success fs-1"}),e.jsx("p",{className:"mb-1 fw-bold",children:uploadedFile.name}),e.jsxs("small",{className:"text-muted",children:[(uploadedFile.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("button",{className:"btn btn-outline-danger btn-sm me-2",onClick:()=>{setUploadedFile(null),setFilePreview(null),setVerificationError(""),setVerificationStatus("not_verified")},children:"Remove"})]}):e.jsxs("div",{children:[e.jsx("i",{className:"bi bi-cloud-upload text-primary fs-1 mb-3"}),e.jsx("p",{className:"mb-3",children:"Drag and drop your payment screenshot here, or click to browse"}),e.jsx("input",{type:"file",className:"d-none",id:"fileUpload",accept:"image/jpeg,image/png,application/pdf",onChange:e=>{const s=e.target.files[0];if(!s)return;if(["image/jpeg","image/png","application/pdf"].includes(s.type))if(s.size>5242880)setVerificationError("File size must be less than 5MB.");else if(setUploadedFile(s),setVerificationError(""),setVerificationStatus("not_verified"),setUploadProgress(0),s.type.startsWith("image/")){const e=new FileReader;e.onload=e=>setFilePreview(e.target.result),e.readAsDataURL(s)}else setFilePreview(null);else setVerificationError("Please select a JPG, PNG, or PDF file.")}}),e.jsxs("label",{htmlFor:"fileUpload",className:"btn btn-primary",children:[e.jsx("i",{className:"bi bi-folder me-2"}),"Choose File"]}),e.jsx("p",{className:"mt-2 mb-0 small text-muted",children:"Allowed: JPG, PNG, PDF | Max: 5MB"})]})})]}),"not_verified"!==verificationStatus&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("div",{className:"me-3",children:["uploading"===verificationStatus&&e.jsx("div",{className:"spinner-border spinner-border-sm text-primary"}),"verifying"===verificationStatus&&e.jsx("i",{className:"bi bi-hourglass-split text-warning fs-4"}),"verified"===verificationStatus&&e.jsx("i",{className:"bi bi-check-circle-fill text-success fs-4"}),"rejected"===verificationStatus&&e.jsx("i",{className:"bi bi-x-circle-fill text-danger fs-4"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"fw-bold",children:["uploading"===verificationStatus&&"Uploading...","verifying"===verificationStatus&&"Processing verification...","verified"===verificationStatus&&"Verification Successful!","rejected"===verificationStatus&&"Verification Failed"]}),"uploading"===verificationStatus&&e.jsx("div",{className:"progress mt-2",style:{height:"6px"},children:e.jsx("div",{className:"progress-bar bg-primary",style:{width:`${uploadProgress}%`}})})]})]}),verificationError&&e.jsxs("div",{className:"alert alert-danger mt-2",children:[e.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),verificationError]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>h(3),children:[e.jsx("i",{className:"bi bi-arrow-left me-2"})," Back"]}),e.jsxs("div",{className:"d-flex gap-2",children:[uploadedFile&&"not_verified"===verificationStatus&&e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary",onClick:()=>{if(!uploadedFile)return;setVerificationStatus("uploading"),setUploadProgress(0);const e=`${g}_${Date.now()}_${uploadedFile.name}`,s=storageRef(getStorage(),`payment-proofs/${e}`),n=uploadBytesResumable(s,uploadedFile);n.on("state_changed",e=>{const s=e.bytesTransferred/e.totalBytes*100;setUploadProgress(s)},e=>{setVerificationStatus("rejected"),setVerificationError("Upload failed. Please try again."),a.error("Upload failed. Please try again.")},()=>{getDownloadURL(n.snapshot.ref).then(e=>{setVerificationStatus("verifying"),setTimeout(()=>{setVerificationStatus("verified"),a.success("Payment proof uploaded and verified successfully!");const s=t(c,`donations/${y.id}`);r(s,{...y,paymentProof:e,verificationStatus:"verified",verifiedAt:o()}).catch(e=>{})},2e3)})})},children:[e.jsx("i",{className:"bi bi-upload me-2"}),"Upload & Verify"]}),"verified"===verificationStatus&&e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-success",onClick:()=>{"verified"===verificationStatus&&h(5)},children:[e.jsx("i",{className:"bi bi-check-circle me-2"}),"Get Receipt"]})]})]})]}),5===m&&y&&e.jsxs("div",{className:"card-body p-5 text-center",children:[e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"mb-4",children:e.jsx("div",{className:"d-inline-flex p-4 rounded-circle bg-success bg-opacity-10",children:e.jsx("i",{className:"bi bi-check-circle-fill text-success",style:{fontSize:"4rem"}})})}),e.jsx("h2",{className:"fw-bold mb-3 text-success",children:"Thank You for Your Donation!"}),e.jsxs("p",{className:"lead mb-4",children:["Your contribution of ",e.jsx("span",{className:"fw-bold text-primary",children:P(y.amount)})," will help orphan children in need."]}),e.jsxs("div",{className:"row g-4 mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-4 rounded-3 border",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Donation Details"}),e.jsxs("div",{className:"text-start",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Receipt No:"}),e.jsx("div",{className:"fw-bold",children:y.transactionId})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Date:"}),e.jsx("div",{className:"fw-bold",children:y.date})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Amount:"}),e.jsx("div",{className:"fw-bold",children:P(y.amount)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Donor:"}),e.jsx("div",{className:"fw-bold",children:y.donorInfo.anonymous?"Anonymous Donor":y.donorInfo.name})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted",children:"Reference:"}),e.jsx("div",{className:"fw-bold",children:y.reference})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-4 rounded-3 border",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Receipt Options"}),e.jsxs("div",{className:"text-start",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("i",{className:"bi bi-file-text text-primary me-2"}),e.jsx("strong",{children:"Download Receipt"})," as text file"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("i",{className:"bi bi-printer text-info me-2"}),e.jsx("strong",{children:"Print Receipt"})," for physical copy"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("i",{className:"bi bi-whatsapp text-success me-2"}),e.jsx("strong",{children:"Share on WhatsApp"})," with friends"]}),e.jsxs("div",{children:[e.jsx("i",{className:"bi bi-envelope text-warning me-2"}),e.jsx("strong",{children:"Email Receipt"})," sent to ",y.donorInfo.email]})]})]})})]}),e.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-3 mb-4",children:[e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-primary btn-lg px-4",onClick:()=>{if(!y)return;const e=`\nALI ZAIB ORPHAN HOME\n(UNDER THE PATRONAGE OF ALI ZAIB FOUNDATION)\nP-68, New Civil Line, Ayesha Road, behind Sind Bad, Faisalabad\n\n==========================================\n            DONATION RECEIPT\n==========================================\n\nReceipt No: ${y.transactionId}\nDate: ${y.date}\nDonor Name: ${y.donorInfo.anonymous?"Anonymous Donor":y.donorInfo.name}\nPhone: ${y.donorInfo.phone||"Not provided"}\nEmail: ${y.donorInfo.email||"Not provided"}\n\n------------------------------------------\nAmount: ${P(y.amount)}\n------------------------------------------\n\nPayment Method: Bank Transfer\nReference Number: ${y.reference}\n\nBank Transfer Details:\n- JazzCash: 0321 9920015\n- BankIslami: 218500047820005\n- IBAN: PK73BKIP0218500047820005\n\n==========================================\n\nThis is an official receipt for your donation to Ali Zaib Orphan Home.\nFor any queries, contact: 0321-9920015 | 0300-8666468\n\nThank you for your generous contribution!\n`,s=new Blob([e],{type:"text/plain"}),a=window.URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`Donation-Receipt-${y.transactionId}.txt`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),document.body.removeChild(n)},children:[e.jsx("i",{className:"bi bi-download me-2"}),"Download Receipt"]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-info btn-lg px-4",onClick:()=>{const e=`\n      <html>\n        <head>\n          <title>Donation Receipt - ${y.transactionId}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            .header { text-align: center; margin-bottom: 30px; }\n            .title { font-size: 24px; font-weight: bold; margin-bottom: 10px; }\n            .subtitle { font-size: 14px; color: #666; }\n            .section { margin: 20px 0; }\n            .amount {\n              font-size: 28px;\n              font-weight: bold;\n              text-align: center;\n              margin: 30px 0;\n              padding: 20px;\n              border: 2px solid #000;\n            }\n            .footer { margin-top: 40px; font-size: 12px; text-align: center; }\n            @media print {\n              body { padding: 0; }\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <div class="title">ALI ZAIB ORPHAN HOME</div>\n            <div class="subtitle">(UNDER THE PATRONAGE OF ALI ZAIB FOUNDATION)</div>\n            <div class="subtitle">P-68, New Civil Line, Ayesha Road, behind Sind Bad, Faisalabad</div>\n          </div>\n\n          <div class="title" style="text-align: center; margin-bottom: 30px;">DONATION RECEIPT</div>\n\n          <div class="section">\n            <strong>Receipt No:</strong> ${y.transactionId}<br>\n            <strong>Date:</strong> ${y.date}<br>\n            <strong>Donor Name:</strong> ${y.donorInfo.anonymous?"Anonymous Donor":y.donorInfo.name}<br>\n            <strong>Phone:</strong> ${y.donorInfo.phone||"Not provided"}<br>\n            <strong>Email:</strong> ${y.donorInfo.email||"Not provided"}\n          </div>\n\n          <div class="amount">\n            Amount: ${P(y.amount)}\n          </div>\n\n          <div class="section">\n            <strong>Payment Method:</strong> Bank Transfer<br>\n            <strong>Reference Number:</strong> ${y.reference}\n          </div>\n\n          <div class="section">\n            <strong>Bank Transfer Details:</strong><br>\n            - JazzCash: 0321 9920015<br>\n            - BankIslami: 218500047820005<br>\n            - IBAN: PK73BKIP0218500047820005\n          </div>\n\n          <div class="footer">\n            This is an official receipt for your donation to Ali Zaib Orphan Home.<br>\n            For any queries, contact: 0321-9920015 | 0300-8666468<br><br>\n            Thank you for your generous contribution!\n          </div>\n\n          <div class="no-print" style="margin-top: 40px; text-align: center;">\n            <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">\n              Print Receipt\n            </button>\n          </div>\n        </body>\n      </html>\n    `,s=window.open("","_blank");s.document.write(e),s.document.close(),s.focus()},children:[e.jsx("i",{className:"bi bi-printer me-2"}),"Print Receipt"]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-success btn-lg px-4",onClick:()=>{if(!y)return;const e=`I just donated ${P(y.amount)} to Ali Zaib Orphan Home! \n    \nReceipt Details:\nðŸ“‹ Receipt No: ${y.transactionId}\nðŸ“… Date: ${y.date}\nðŸ’° Amount: ${P(y.amount)}\nðŸ™ Donor: ${y.donorInfo.anonymous?"Anonymous":y.donorInfo.name}\nðŸ“ž Contact: ${y.donorInfo.phone||"Not provided"}\n\nThank you for supporting orphan children!`,s=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(s,"_blank")},children:[e.jsx("i",{className:"bi bi-share me-2"}),"Share on WhatsApp"]})]}),e.jsx("div",{className:"d-flex justify-content-center gap-3",children:e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn btn-outline-primary px-4",onClick:()=>{h(1),x(500),j({name:"",email:"",phone:"",message:"",anonymous:!1}),w(null)},children:[e.jsx("i",{className:"bi bi-heart-fill me-2"}),"Make Another Donation"]})}),e.jsxs("div",{className:"mt-5 pt-4 border-top",children:[e.jsxs("p",{className:"text-muted",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Your donation receipt has been emailed to ",e.jsx("strong",{children:y.donorInfo.email})]}),e.jsxs("div",{className:"small text-muted",children:["For any questions, contact us at ",e.jsx("strong",{children:"0321-9920015"})," or visit our office in Faisalabad"]})]})]})]},m),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-4",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("i",{className:"bi bi-shield-check fs-4 me-2"}),e.jsx("span",{children:"Secure Process"})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("i",{className:"bi bi-receipt fs-4 me-2"}),e.jsx("span",{children:"Tax Receipt"})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("i",{className:"bi bi-award fs-4 me-2"}),e.jsx("span",{children:"Registered Charity"})]})]})})]})})]})})}const m=()=>e.jsx("style",{children:"\n    /* Smooth transitions */\n    .card {\n      transition: all 0.3s ease;\n    }\n    \n    /* Progress step animation */\n    @keyframes stepGlow {\n      0%, 100% { box-shadow: 0 0 0 0 rgba(13, 110, 253, 0.7); }\n      50% { box-shadow: 0 0 0 10px rgba(13, 110, 253, 0); }\n    }\n    \n    .btn-primary.active {\n      animation: stepGlow 2s infinite;\n    }\n    \n    /* Success animation */\n    @keyframes successPulse {\n      0% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n      100% { transform: scale(1); }\n    }\n    \n    .text-success i {\n      animation: successPulse 2s infinite;\n    }\n    \n    /* Copy button animation */\n    @keyframes copyPulse {\n      0% { transform: scale(1); }\n      50% { transform: scale(1.1); }\n      100% { transform: scale(1); }\n    }\n    \n    .btn-outline-primary:active {\n      animation: copyPulse 0.3s;\n    }\n    \n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n      .display-4 {\n        font-size: 2rem;\n      }\n      \n      .card-body {\n        padding: 2rem !important;\n      }\n      \n      .btn-lg {\n        font-size: 1rem;\n        padding: 0.75rem 1.5rem;\n      }\n    }\n    \n    @media (max-width: 576px) {\n      .card-body {\n        padding: 1.5rem !important;\n      }\n      \n      .btn {\n        width: 100%;\n        margin-bottom: 0.5rem;\n      }\n    }\n    \n    /* Custom scrollbar */\n    ::-webkit-scrollbar {\n      width: 8px;\n    }\n    \n    ::-webkit-scrollbar-track {\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 10px;\n    }\n    \n    ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.3);\n      border-radius: 10px;\n    }\n    \n    ::-webkit-scrollbar-thumb:hover {\n      background: rgba(255, 255, 255, 0.5);\n    }\n    \n    /* Input focus effects */\n    .form-control:focus,\n    .form-select:focus {\n      border-color: #0d6efd;\n      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n    }\n    \n    /* Bank details styling */\n    .bg-light.rounded {\n      transition: all 0.3s ease;\n    }\n    \n    .bg-light.rounded:hover {\n      background-color: #f8f9fa !important;\n      border-color: #dee2e6 !important;\n    }\n  "});function h(){return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(d,{})]})}export{h as default};
